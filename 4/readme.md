# Отчет

# Итерация 1

## Логический дизайн

* Есть множество городов, список городов образует район, который должны поситетить отдельная машина и задача состоит в разбиении на районы.
* У каждого райлна есть методы оптимизации списка своих городов и выполняя эти методы происходит оптимизация

## Изначальное решение

* начальное состояние класса `Area` содержиться сдесь https://github.com/skprpi/Hard-Work/blob/main/4/1.cpp (скопировано из https://github.com/skprpi/salesman-problem/blob/master/src/area.h)
* в контексте исправления будет рассматриваться только класс `Area` в текущем фрагменте кода

## Проблемы и не стыковки логического дизайна и представленного решения

* В методах класса `Area` присутсвуют методы отвечающие за генерацию рандомных позиций для использования в других методах
* Таким образом класс `Area` начинает нарушать логический дизайн и начинает заботиться не только о маршрутах и их проложении но и за алгоритмы рандомизации данных маршрутов

## Исправление

* Рефакторинг можно произвести следующим образом https://github.com/skprpi/Hard-Work/blob/main/4/1_refactor.cpp
* Теперь генерация будет осуществляться только в 1 месте (т.к. задача вырвана из контекста стоит отметить, что за генерацию таких индексов отвечал еще и метод main который и обобщал весь алгоритм) теперь эти методы можно будет объединить и вынксти в общий класс `RandomGenerator`

## Итоги

* Был создан отдельный класс для логического компонента отвечающего за генерацию рандомных позиций
* Теперь логику в разных местах отвечающую за генерацию позиций нужно отдать только 1 сущности и код станет понятнее читать
* По времени заняло где-то минут 30 (т.к. хорошо помнил о чем код - использовал его так же раньше для других заданий уж очень он плохо написан, поэтому на нем хорошо тренероваться :) )

# Итерация 2

## Логический дизайн

* если люди, которые подходят к лифту и выбирают на какой этаж им нужно и затем лифт за ними приезжает

## Изначальное решение

* Код был взят из одной из моих старых лабораторных работ https://github.com/skprpi/Hard-Work/blob/main/4/2.java

## Проблемы и не стыковки логического дизайна и представленного решения

* Во первых отсутсвует явно класс Person и получается что класс лифт на самом деле работает вообще с несколькими лифтами

## Исправление

* Рефакторинг можно произвести следующим образом https://github.com/skprpi/Hard-Work/blob/main/4/2_refactor.py
* Явно выделили класс  `Person` и разделили состояния лифта на `LiftUp` `LiftDown` - т.к. смысл поход по реализации реализация класса `LiftDown` опущена
* Теперь класс `Lift` будет контрлировать свое состояние и изменять его в нужные моменты
* Добавлен класс `LiftManager` который будет отвечать за группу лифтов и раздавать им заказы в зависимости от их положения

## Итоги

* Исправления реализованы частично, но т.к. главное в решении как мне показалось не код а конфентрация на соотношении дизайна и кода то упор был сделан на это
* Итарация заняла порядка часа 30 - 40 минут на исправление и несколько часов чтобы найти подходящий пример

# Overall

* Сложнее всего находить примеры для кода, чем их исправлять
* Принцип следования кода логическому дизайну сложно приенять особенно в контексте рабочьих задач (когда строк кодо в x10000 раз больше) но при явном обращении внимания на этот принцип становится намного легче продумывать организацию системы типов и понятно в каком направлении вообще нужно двигаться. 
* Теперь я не могу смотреть на код на работе без мысли, что все нужно срочно рефакторить пока не стало совсем поздно :)
